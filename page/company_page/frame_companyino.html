<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link href="bootstrap-3.3.7-dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="font-awesome-4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <style>
        *{
            margin: 0;
            padding: 0;
        }
        body{
            width: 900px;
            height: 600px;
            background-color: rgb(245, 245, 245);
            padding-left: 30px;
        }
        h3{
            margin-bottom: 40px;
        }
        .space{
            padding-top: 10px;
            padding-bottom: 20px;
        }
        .update{
            margin-top: 65px;
            width: 100px;
        }
        .showarea span{

            font-size: 16px;
            cursor: pointer;
            padding-left: 18px;
            padding-right: 15px;
        }


    </style>
</head>
<body>

    <div class="container-fluid">
        <h3>编辑公司信息</h3>
        <div class="row">
            <div class="col-sm-6">
                <form>
                    <div class="form-group">
                        <label for="comname">公司名称</label>
                        <input type="email" class="form-control" id="comname" >
                    </div></form>
            </div>
            <div class="col-sm-6">
                <form>
                    <div class="form-group">
                        <label for="comtype">公司类型</label>
                        <input type="text" list="itemlist" class="form-control" id="comtype"placeholder="点击选择公司类型" >
                        <datalist id="itemlist">
                            <option>合资</option>
                            <option>独资</option>
                            <option>国有</option>
                            <option>私有</option>
                            <option>集体所有制集体所有制</option>
                            <option>股份制</option>
                            <option>有限责任</option>


                        </datalist>
                    </div></form>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-6">
                <div class="form-group">
                    <label for="comname">企业邮箱</label>
                    <input type="email" class="form-control" id="comemail" >
                </div>
            </div>
            <div class="col-sm-6">
                    <div class="form-group">
                        <label for="comname">企业网站</label>
                        <input type="email" class="form-control" id="comeweb" >
                    </div>
                </div>
        </div>
        <div class="row space">
            <div class="form-group">
                <label style="padding-left: 12px"  for="province1" class=" control-label">公司地址</label>

                    <form class="form-inline">
                        <div data-toggle="distpicker">
                            <div class="form-group">
                                <form class="form-inline">
                                    <div class="showarea">
                                    <span class="span_Province"></span>
                                    <span class="span_Downtown"></span>
                                    <span class="span_Area"></span>
                                        <span   class="btn btn-default xiugaidizhi">修改</span>
                                    </div>
                                    <div hidden class="inputarea">
                                    <select style="width: 25%;margin-left: 15px" class="form-control location companyProvince" id="province1">
                                        <option value="" data-code="">省</option>
                                        <option value="北京市" data-code="110000" selected="">北京市</option>
                                        <option value="天津市" data-code="120000">天津市</option>
                                        <option value="河北省" data-code="130000">河北省</option>
                                        <option value="山西省" data-code="140000">山西省</option>
                                        <option value="内蒙古自治区" data-code="150000">内蒙古自治区</option>
                                        <option value="辽宁省" data-code="210000">辽宁省</option>
                                        <option value="吉林省" data-code="220000">吉林省</option>
                                        <option value="黑龙江省" data-code="230000">黑龙江省</option>
                                        <option value="上海市" data-code="310000">上海市</option>
                                        <option value="江苏省" data-code="320000">江苏省</option>
                                        <option value="浙江省" data-code="330000">浙江省</option>
                                        <option value="安徽省" data-code="340000">安徽省</option>
                                        <option value="福建省" data-code="350000">福建省</option>
                                        <option value="江西省" data-code="360000">江西省</option>
                                        <option value="山东省" data-code="370000">山东省</option>
                                        <option value="河南省" data-code="410000">河南省</option>
                                        <option value="湖北省" data-code="420000">湖北省</option>
                                        <option value="湖南省" data-code="430000">湖南省</option>
                                        <option value="广东省" data-code="440000">广东省</option>
                                        <option value="广西壮族自治区" data-code="450000">广西壮族自治区</option>
                                        <option value="海南省" data-code="460000">海南省</option>
                                        <option value="重庆市" data-code="500000">重庆市</option>
                                        <option value="四川省" data-code="510000">四川省</option>
                                        <option value="贵州省" data-code="520000">贵州省</option>
                                        <option value="云南省" data-code="530000">云南省</option>
                                        <option value="西藏自治区" data-code="540000">西藏自治区</option>
                                        <option value="陕西省" data-code="610000">陕西省</option>
                                        <option value="甘肃省" data-code="620000">甘肃省</option>
                                        <option value="青海省" data-code="630000">青海省</option>
                                        <option value="宁夏回族自治区" data-code="640000">宁夏回族自治区</option>
                                        <option value="新疆维吾尔自治区" data-code="650000">新疆维吾尔自治区</option>
                                        <option value="台湾省" data-code="710000">台湾省</option>
                                        <option value="香港特别行政区" data-code="810000">香港特别行政区</option>
                                        <option value="澳门特别行政区" data-code="820000">澳门特别行政区</option>
                                    </select>

                                    <select style="width: 25%" class="form-control location jobDowntown" id="city1">
                                        <option value="" data-code="">市</option>
                                        <option value="长春市" data-code="220100" selected="">长春市</option>
                                        <option value="吉林市" data-code="220200">吉林市</option>
                                        <option value="四平市" data-code="220300">四平市</option>
                                        <option value="辽源市" data-code="220400">辽源市</option>
                                        <option value="通化市" data-code="220500">通化市</option>
                                        <option value="白山市" data-code="220600">白山市</option>
                                        <option value="松原市" data-code="220700">松原市</option>
                                        <option value="白城市" data-code="220800">白城市</option>
                                        <option value="延边朝鲜族自治州" data-code="222400">延边朝鲜族自治州</option>
                                    </select>
                                    <select class="form-control location jobArea" id="district1">
                                        <option value="" data-code="">区</option>
                                        <option value="浑江区" data-code="220602" selected="">浑江区</option>
                                        <option value="江源区" data-code="220605">江源区</option>
                                        <option value="抚松县" data-code="220621">抚松县</option>
                                        <option value="靖宇县" data-code="220622">靖宇县</option>
                                        <option value="长白朝鲜族自治县" data-code="220623">长白朝鲜族自治县</option>
                                        <option value="临江市" data-code="220681">临江市</option>
                                    </select>
                                    </div>
                                </form>
                            </div>


                        </div>
                    </form>

            </div>
        </div>
        <div class="row">
            <div class="col-sm-6">
                <div class="form-group">
                    <label for="address">详细地址</label>
                    <input type="email" class="form-control" id="address" >
                </div>
            </div>
            <div class="col-sm-6">
                <div class="form-group">
                    <label for="scope">企业规模</label>
                    <input type="email" class="form-control" id="scope" >
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-6">
            <div class="form-group">
                <label for="scope">企业介绍</label>
                <textarea class="form-control" id="info" rows="3"></textarea>
            </div>
            </div>
            <div class="col-md-6">
                <button  class="btn btn-default update">保存</button>
            </div>
        </div>
    </div>

</body>
<script src="js/jquery-1.11.0.min.js" type="text/javascript"></script>
<script src="bootstrap-3.3.7-dist/js/bootstrap.min.js" type="text/javascript"></script>
<script src="js/jquery.mCustomScrollbar.concat.min.js"></script>
<script src="js/distpicker.data.js"></script>
<script src="js/distpicker.js"></script>
<script>
    $(function () {
        $('.xiugaidizhi').click(function () {
            $('.showarea').hide();
            $('.inputarea').slideDown();
        })
        $.ajax({
            url : "http://47.100.243.21/recruitment/company/info",
            type : "GET",
            datatype:"application/json",
            contentType:"application/json;charset=utf-8",
            xhrFields: { withCredentials: true },
            crossDomain:true,
            success : function(result) {
                if (result.code == 101) {
                    var datainfo=result.data;
                    $('#comname').val(datainfo.companyName)
                    $('#comtype').val(datainfo.companyType)
                    $('#comemail').val(datainfo.companyWebsite)
                    $('#comeweb').val(datainfo.companyWebsite)
                    $('.span_Province').text(datainfo.companyProvince)
                    $('.span_Downtown').text(datainfo.companyDowntown)
                    $('.span_Area').text(datainfo.companyArea)
                    $('#address').val(datainfo.companyAddress)
                    $('#scope').val(datainfo.companyScope)
                    $('#info').val(datainfo.companyInfo)
                }
            },
            error : function(result) {
                alert("公司信息获取失败");
            }
        });
    })
    $('.update').click(function () {
        $.ajax({
            url : "http://47.100.243.21/recruitment/company/update",
            type : "PUT",
            datatype:"application/json",
            contentType:"application/json;charset=utf-8",
            xhrFields: { withCredentials: true },
            crossDomain:true,
            data :JSON.stringify({
                "companyAddress":  $('#address').val(),
                "companyArea":   $('#district1').val(),
                "companyDowntown":   $('#city1').val(),
                "companyInfo":   $('#info').val(),
                "companyMail": $('#comemail').val(),
                "companyName":  $('#comname').val(),
                "companyProvince":   $('#province1').val(),
                "companyScope":   $('#scope').val(),
                "companyType":  $('#comtype').val(),
                "companyWebsite":  $('#comeweb').val(),
            }),
            success : function(result) {
                if (result.code == 101) {

                    alert("公司信息修改成功")
                    window.location.reload()
                }
            },
            error : function(result) {
                alert("职位分类获取失败");
            }
        });

    })
</script>
</html>