<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="../../bootstrap/css/bootstrap.min.css">
    <link href="font-awesome-4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        body {
            font-size: 16px;
            width: 1000px;
            height: 700px;
            background-color: rgb(245, 245, 245);

        }

        main {

            padding: 20px;
            padding-top: 30px;
            padding-left: 50px;
        }

        .step1 {
            color: deepskyblue;
            font-size: 40px;
            margin-right: 15px;

        }

        .title {
            font-size: 18px;
            vertical-align: middle;
        }

        .control-label {
            color: #6e6e6e;
        }

        .dropdown-submenu {
            position: relative;
        }

        .dropdown-submenu > .dropdown-menu {
            top: 0;
            left: 100%;
            margin-top: -6px;
            margin-left: -1px;
            -webkit-border-radius: 0 6px 6px 6px;
            -moz-border-radius: 0 6px 6px;
            border-radius: 0 6px 6px 6px;
        }

        .dropdown-submenu:hover > .dropdown-menu {
            display: block;
        }

        .dropdown-submenu > a:after {
            display: block;
            content: " ";
            float: right;
            width: 0;
            height: 0;
            border-color: transparent;
            border-style: solid;
            border-width: 5px 0 5px 5px;
            border-left-color: #ccc;
            margin-top: 5px;
            margin-right: -10px;
        }

        .dropdown-submenu:hover > a:after {
            border-left-color: #fff;
        }

        .dropdown-submenu.pull-left {
            float: none;
        }

        .dropdown-submenu.pull-left > .dropdown-menu {
            left: -100%;
            margin-left: 10px;
            -webkit-border-radius: 6px 0 6px 6px;
            -moz-border-radius: 6px 0 6px 6px;
            border-radius: 6px 0 6px 6px;
        }
        .companyname{

            background-color: rgb(245, 245, 245);
            border: 0px;
            color: #828282;
        }
        .jobInfo{
            width: 250px;
        }

    </style>
</head>
<body>

<main>
    <div class="container-fluid">
        <div class="row">
            <div class="col-sm-8">
                <span class="title"><span class="step1">1</span>职位基本信息</span>
                <form class="form-horizontal">
                    <div class="form-group">
                        <label for="jobName" class="col-sm-2 control-label">公司名</label>
                        <div class="col-sm-10">
                            <input disabled type="text" style="width: 80%;" class="form-control companyname"placeholder="">
                        </div>
                    </div>
                </form>
                <form class="form-horizontal">
                    <div class="form-group">
                        <label for="jobName" class="col-sm-2 control-label">职位名称</label>
                        <div class="col-sm-10">
                            <input type="text" style="width: 80%;" class="form-control" id="jobName" placeholder="">
                        </div>
                    </div>
                </form>
                <form class="form-horizontal">
                    <div class="form-group">
                        <label class="col-sm-2 control-label">职位类别</label>
                        <div class="col-sm-10">
                            <div class="dropdown">
                                <input value="点击选择职位" type="button" style="width: 80%;" class="form-control zhiwei"
                                       data-toggle="dropdown" id="willingjob" data-toggle="modal"
                                       data-target="#myModal">
                                <ul class="dropdown-menu multi-level" role="menu" aria-labelledby="dropdownMenu">
                                    <li class="dropdown-submenu">
                                        <a href="javascript:;" data-index="1" data-title="互联网IT">互联网IT</a>
                                        <ul class="dropdown-menu joblist1 dropdown-menu2">

                                        </ul>
                                    </li>

                                    <li class="dropdown-submenu">
                                        <a tabindex="2" href="javascript:;">金融</a>
                                        <ul class="dropdown-menu joblist2 dropdown-menu2">

                                        </ul>
                                    </li>
                                    <li class="dropdown-submenu">
                                        <a tabindex="2" href="javascript:;">房地产</a>
                                        <ul class="dropdown-menu joblist3 dropdown-menu2">


                                        </ul>
                                    </li>
                                    <li class="dropdown-submenu">
                                        <a tabindex="2" href="javascript:;">建筑</a>
                                        <ul class="dropdown-menu joblist4 dropdown-menu2">


                                        </ul>
                                    </li>
                                    <li class="dropdown-submenu">
                                        <a tabindex="2" href="javascript:;">贸易</a>
                                        <ul class="dropdown-menu joblist5 dropdown-menu2">

                                        </ul>
                                    </li>
                                    <li class="dropdown-submenu">
                                        <a tabindex="2" href="javascript:;">零售</a>
                                        <ul class="dropdown-menu joblist6 dropdown-menu2">

                                        </ul>
                                    </li>
                                    <li class="dropdown-submenu">
                                        <a tabindex="2" href="javascript:;">物流</a>
                                        <ul class="dropdown-menu joblist7 dropdown-menu2">

                                        </ul>
                                    </li>
                                    <li class="dropdown-submenu">
                                        <a tabindex="2" href="javascript:;">教育</a>
                                        <ul class="dropdown-menu joblist8 dropdown-menu2">

                                        </ul>
                                    </li>
                                    <li class="dropdown-submenu">
                                        <a tabindex="2" href="javascript:;">传媒</a>
                                        <ul class="dropdown-menu joblist9 dropdown-menu2">

                                        </ul>
                                    </li>
                                    <li class="dropdown-submenu">
                                        <a tabindex="2" href="javascript:;">广告</a>
                                        <ul class="dropdown-menu joblist10 dropdown-menu2">

                                        </ul>
                                    </li>
                                    <li class="dropdown-submenu">
                                        <a tabindex="2" href="javascript:;">服务业</a>
                                        <ul class="dropdown-menu joblist11 dropdown-menu2">


                                        </ul>
                                    </li>
                                    <li class="dropdown-submenu">
                                        <a tabindex="2" href="javascript:;">市场</a>
                                        <ul class="dropdown-menu joblist12 dropdown-menu2">
                                        </ul>
                                    </li>
                                    <li class="dropdown-submenu">
                                        <a tabindex="2" href="javascript:;">销售</a>
                                        <ul class="dropdown-menu joblist13 dropdown-menu2">

                                        </ul>
                                    </li>
                                    <li class="dropdown-submenu">
                                        <a tabindex="2" href="javascript:;">人事</a>
                                        <ul class="dropdown-menu joblist14 dropdown-menu2">

                                        </ul>
                                    </li>
                                    <li class="dropdown-submenu">
                                        <a tabindex="2" href="javascript:;">财务</a>
                                        <ul class="dropdown-menu joblist15 dropdown-menu2">

                                        </ul>
                                    </li>
                                    <li class="dropdown-submenu">
                                        <a tabindex="2" href="javascript:;">行政</a>
                                        <ul class="dropdown-menu joblist16 dropdown-menu2">

                                        </ul>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </form>


                <div class="form-horizontal">
                    <div class="form-group">
                        <label for="province1" class="col-sm-2 control-label">工作地点</label>
                        <div class="col-sm-10">
                            <form class="form-inline">
                                <div data-toggle="distpicker">
                                    <div class="form-group">
                                        <form class="form-inline">
                                            <select style="width: 25%;margin-left: 15px" class="form-control location companyProvince" id="province1">
                                                <option value="" data-code="">省</option>
                                                <option value="北京市" data-code="110000" selected="">北京市</option>
                                                <option value="天津市" data-code="120000">天津市</option>
                                                <option value="河北省" data-code="130000">河北省</option>
                                                <option value="山西省" data-code="140000">山西省</option>
                                                <option value="内蒙古自治区" data-code="150000">内蒙古自治区</option>
                                                <option value="辽宁省" data-code="210000">辽宁省</option>
                                                <option value="吉林省" data-code="220000">吉林省</option>
                                                <option value="黑龙江省" data-code="230000">黑龙江省</option>
                                                <option value="上海市" data-code="310000">上海市</option>
                                                <option value="江苏省" data-code="320000">江苏省</option>
                                                <option value="浙江省" data-code="330000">浙江省</option>
                                                <option value="安徽省" data-code="340000">安徽省</option>
                                                <option value="福建省" data-code="350000">福建省</option>
                                                <option value="江西省" data-code="360000">江西省</option>
                                                <option value="山东省" data-code="370000">山东省</option>
                                                <option value="河南省" data-code="410000">河南省</option>
                                                <option value="湖北省" data-code="420000">湖北省</option>
                                                <option value="湖南省" data-code="430000">湖南省</option>
                                                <option value="广东省" data-code="440000">广东省</option>
                                                <option value="广西壮族自治区" data-code="450000">广西壮族自治区</option>
                                                <option value="海南省" data-code="460000">海南省</option>
                                                <option value="重庆市" data-code="500000">重庆市</option>
                                                <option value="四川省" data-code="510000">四川省</option>
                                                <option value="贵州省" data-code="520000">贵州省</option>
                                                <option value="云南省" data-code="530000">云南省</option>
                                                <option value="西藏自治区" data-code="540000">西藏自治区</option>
                                                <option value="陕西省" data-code="610000">陕西省</option>
                                                <option value="甘肃省" data-code="620000">甘肃省</option>
                                                <option value="青海省" data-code="630000">青海省</option>
                                                <option value="宁夏回族自治区" data-code="640000">宁夏回族自治区</option>
                                                <option value="新疆维吾尔自治区" data-code="650000">新疆维吾尔自治区</option>
                                                <option value="台湾省" data-code="710000">台湾省</option>
                                                <option value="香港特别行政区" data-code="810000">香港特别行政区</option>
                                                <option value="澳门特别行政区" data-code="820000">澳门特别行政区</option>
                                            </select>

                                            <select style="width: 25%" class="form-control location jobDowntown" id="city1">
                                                <option value="" data-code="">市</option>
                                                <option value="长春市" data-code="220100" selected="">长春市</option>
                                                <option value="吉林市" data-code="220200">吉林市</option>
                                                <option value="四平市" data-code="220300">四平市</option>
                                                <option value="辽源市" data-code="220400">辽源市</option>
                                                <option value="通化市" data-code="220500">通化市</option>
                                                <option value="白山市" data-code="220600">白山市</option>
                                                <option value="松原市" data-code="220700">松原市</option>
                                                <option value="白城市" data-code="220800">白城市</option>
                                                <option value="延边朝鲜族自治州" data-code="222400">延边朝鲜族自治州</option>
                                            </select>
                                            <select class="form-control location jobArea" id="district1">
                                                <option value="" data-code="">区</option>
                                                <option value="浑江区" data-code="220602" selected="">浑江区</option>
                                                <option value="江源区" data-code="220605">江源区</option>
                                                <option value="抚松县" data-code="220621">抚松县</option>
                                                <option value="靖宇县" data-code="220622">靖宇县</option>
                                                <option value="长白朝鲜族自治县" data-code="220623">长白朝鲜族自治县</option>
                                                <option value="临江市" data-code="220681">临江市</option>
                                            </select>

                                        </form>
                                    </div>


                                </div>
                            </form>
                        </div>
                    </div>
                </div>


                <form class="form-horizontal">
                    <div class="form-group">
                        <label for="jobName" class="col-sm-2 control-label">详细位置</label>
                        <div class="col-sm-10">
                            <input type="text" style="width: 80%;" class="form-control jobAddress" placeholder="">
                        </div>
                    </div>
                </form>


                <form class="form-horizontal">
                    <div class="form-group">
                        <label for="jobName" class="col-sm-2 control-label">职位亮点</label>
                        <div class="col-sm-10">
                            <input type="text" style="width: 80%;" class="form-control jobBenefit" id="benifit" placeholder="">
                        </div>
                    </div>
                </form>

                <span class="title"><span class="step1">2</span>职位要求</span>

                <form style="margin-top: 15px" class="form-horizontal"  >
                    <div class="form-group">
                        <label for="jobName" class="col-sm-2 control-label">经验学历</label>
                        <div class="col-sm-10">
                            <div class="form-group">
                                <div class="form-inline">
                                    <select style="width:30%;" class="form-control jobExperience">
                                        <option>不限</option>
                                        <option>应届生</option>
                                        <option>1年</option>
                                        <option>2年</option>
                                        <option>3年</option>
                                        <option>4年</option>
                                        <option>5年</option>
                                        <option>5-10年</option>
                                    </select>


                                    <select style="width:30%; margin-left: 20px" class="form-control jobDegree">
                                        <option>不限</option>
                                        <option>高中</option>
                                        <option>专科</option>
                                        <option>本科</option>
                                        <option>研究生</option>
                                        <option>博士</option>
                                        <option>硕士</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>

                <form class="form-horizontal">
                    <div class="form-group">
                        <label for="jobName" class="col-sm-2 control-label">薪资范围</label>
                        <div class="col-sm-10">
                            <div class="form-group">
                                <div class="form-inline">
                                    <select style="width:20%;" class="form-control jobSalary">
                                        <option>1-3k</option>
                                        <option>3-5k</option>
                                        <option>5-8k</option>
                                        <option>8-10k</option>
                                        <option>10-15k</option>
                                        <option>15-20k</option>
                                        <option>20-30k</option>
                                        <option>30-50k</option>
                                    </select>

                                    <div class="form-group">
                                        <label style="margin-left: 25px; color: #828282;" for="exampleInputName2">招聘人数</label>
                                        <input  style="width: 50%;" type="text" class="form-control jobNum" id="exampleInputName2" placeholder="">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
                <span class="title"><span class="step1">3</span>联系方式</span>
                <input type="text" style="width: 60%;" class="form-control jobPhone" id="phone" placeholder="">


            </div>


            <div class="col-sm-4">
                <span class="title"><span class="step1">4</span>职位描述</span>
                <div class="form-group">
                    <textarea class="form-control jobInfo"  rows="16"></textarea>
                </div>
                <button type="submit" class="btn btn-default sub">发布</button>

            </div>
        </div>
    </div>
</main>


</body>
<script src="js/jquery-1.11.0.min.js" type="text/javascript"></script>
<script src="../../bootstrap/js/bootstrap.min.js"></script>
<script src="js/jquery.mCustomScrollbar.concat.min.js"></script>
<script src="js/distpicker.data.js"></script>
<script src="js/distpicker.js"></script>
<script src="js/dataload.js"></script>
<script>
    $(function () {
        titleId=undefined;
        $(document).on("click", ".dropdown-menu2 li a", function () {
            titleId = $(this).attr("titleId");
            $(".zhiwei").val($(this).html());
        })

        $('.companyname').val($(".user-name",parent.document).text())
        $('.sub').click(function () {

            $(".form-control").each(function(){
                if($(this).val() == "") {
                    alert("请完善招聘信息");
                    return false;
                }
            });
            if(titleId==undefined){
                alert("请选择职位类别")
            }else {
                addjob()
            }

        })

      function addjob() {
          $.ajax({
              url : "http://47.100.243.21/recruitment/job/add",
              type : "POST",
              datatype:"application/json",
              contentType:"application/json;charset=utf-8",
              xhrFields: { withCredentials: true },
              crossDomain:true,
              data :JSON.stringify({
                  "jobName":$('#jobName').val(),
                  "titleId":titleId,
                  "jobProvince":$('.companyProvince').val(),
                  "jobDowntown":$('.jobDowntown').val(),
                  "jobArea":$('.jobArea').val(),
                  "jobAddress":$('.jobAddress').val(),
                  "jobBenefit":$('.jobBenefit').val(),
                  "jobExperience":$('.jobExperience').val(),
                  "degree":$('.jobDegree').val(),
                  "jobSalary":$('.jobSalary').val(),
                  "jobPhone":$('.jobPhone').val(),
                  "jobInfo":$('.jobInfo').val(),
                  "jobNum":$('.jobNum').val()
              }),
              success : function(result) {
                  if (result.code == 101) {
                      alert("职位发布成功")
                      window.location.reload()
                  }
                  else{
                      alert(result.msg);
                  }
              },
              error : function(result) {
                  alert("失败");
              }
          });
      }
    })
</script>

</html>